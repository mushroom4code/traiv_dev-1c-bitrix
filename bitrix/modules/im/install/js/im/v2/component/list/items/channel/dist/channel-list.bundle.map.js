{"version":3,"file":"channel-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","main_core_events","main_date","im_v2_component_elements","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_lib_logger","im_v2_lib_user","im_v2_application_core","im_v2_lib_rest","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","MessageText","name","components","ChatTitle","props","item","type","Object","required","data","computed","recentItem","dialog","$store","getters","dialogId","message","formattedDate","formatDate","date","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","author","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","isDeleted","loc","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","methods","DateFormatter","formatByTemplate","DateTemplate","recent","phraseCode","replacements","$Bitrix","Loc","getMessage","template","ChannelItem","ChatAvatar","AvatarSize","needsBirthdayPlaceholder","formattedCounter","counter","toString","layout","isUser","ChatType","user","isChat","isChatSelected","Layout","channel","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","length","showLastMessage","Settings","invitation","wrapClasses","EmptyState","_itemsPerPage","babelHelpers","classPrivateFieldLooseKey","_isLoading","_pagesLoaded","_hasMoreItemsToLoad","_lastMessageId","_requestItems","_updateModels","_getMinMessageId","ChannelService","constructor","defineProperty","value","_getMinMessageId2","_updateModels2","_requestItems2","firstPageIsLoaded","writable","async","classPrivateFieldLooseBase","result","firstPage","loadNextPage","Promise","resolve","hasMoreItemsToLoad","queryParams","limit","filter","lastMessageId","runAction","RestMethod","imV2RecentChannelTail","catch","error","console","Logger","warn","messages","hasNextPage","getStore","dispatch","restResult","users","chats","files","recentItems","usersPromise","dialoguesPromise","messagesPromise","filesPromise","recentPromise","all","firstMessageId","id","reduce","minId","nextMessage","Math","min","TAG","_pullClient","_requestWatchStart","PullWatchManager","_requestWatchStart2","getPullClient","subscribe","extendWatch","unsubscribe","clearWatch","imV2RecentChannelExtendPullWatch","ChannelRecentMenu","RecentMenu","getMenuItems","getOpenItem","onclick","LayoutManager","getInstance","setLayout","context","menuInstance","close","ChannelList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","firstPageLoaded","collection","preparedItems","sort","a","b","firstDate","secondDate","isEmptyCollection","created","joinedChannels","Set","contextMenuManager","bindEvents","beforeUnmount","destroy","unbindEvents","getRecentService","loadFirstPage","getPullWatchManager","deactivated","removeJoinedChannels","event","dom","isOneScreenRemaining","target","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","onChannelJoin","channelDialogId","getData","add","EventEmitter","EventType","forEach","service","pullWatchManager","List","Event","Main","Elements","Lib","Application","Const"],"sources":["channel-list.bundle.js"],"mappings":"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"}